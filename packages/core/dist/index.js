(()=>{"use strict";var e={d:(n,t)=>{for(var s in t)e.o(t,s)&&!e.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:t[s]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};function t(e,n){for(var t=0;t<n.length;t++){var s=n[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}e.r(n),e.d(n,{AbstractPlugin:()=>a,RequestHandler:()=>s});var s=function(){function e(){var n,t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),t=[],(n="plugins")in this?Object.defineProperty(this,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[n]=t}var n,s;return n=e,(s=[{key:"registerPlugin",value:function(e){this.plugins.push(e),e.setRequestHandler(this)}},{key:"sendRequestToPlugins",value:function(e,n){this.plugins.forEach((function(t){t.receiveMessage(e,n)}))}}])&&t(n.prototype,s),e}();function r(e,n){for(var t=0;t<n.length;t++){var s=n[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"name",void 0),o(this,"requestHandler",null),o(this,"subscribedMessages",new Set),this.name=n}var n,t;return n=e,(t=[{key:"setRequestHandler",value:function(e){this.requestHandler=e}},{key:"subscribeToMessage",value:function(e){this.subscribedMessages.add(e)}},{key:"sendResponseToSender",value:function(e,n){console.log("Sending response from ".concat(this.name," to ").concat(e,": ").concat(n))}},{key:"sendToOtherPlugin",value:function(e,n){this.requestHandler&&this.requestHandler.sendRequestToPlugins(this.name,n)}},{key:"receiveMessage",value:function(e,n){this.subscribedMessages.has(n)&&this.respondToMessage(e,n)}},{key:"respondToMessage",value:function(e,n){console.log("".concat(this.name," is responding to the message from ").concat(e,": ").concat(n));var t="Response to ".concat(n," from ").concat(this.name);this.sendResponseToSender(e,t)}}])&&r(n.prototype,t),e}();module.exports=n})();